{"ast":null,"code":"import _defineProperty from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import Breadcrumb from'../../layout/breadcrumb';import{Container,Row,Col,Card,CardHeader,CardBody,CardFooter,Media,Form,FormGroup,Label,Input,Button}from'reactstrap';import axios from'axios';import Layout from\"../AppWrapper\";import*as yup from'yup';import{toast}from'react-toastify';import{withRouter,useHistory}from'react-router';import Avatar from'react-avatar';var api=axios.create({baseURL:\"https://afya-kwanza-backend.herokuapp.com\"});var SaccoProfile=function SaccoProfile(_ref){var location=_ref.location;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];// const [token, setToken] = useState('')\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var history=useHistory();var getProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// setToken(localStorage.tokenated)\n// console.log(\"Stored token=>\", token)\nsetName(location.state.sacco_name);console.log(\"Stored name=>\",name);_context.prev=2;_context.next=5;return api.get(\"/saccos/sacco/\".concat(name));case 5:res=_context.sent;// console.log(\"state data==>\", res.data[0])\n// const data = await res.json();\nsetData(res.data[0]);// console.log(\"data with sacco_name querry==>\", data)\n_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function getProfile(){return _ref2.apply(this,arguments);};}();var _onChange=function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var sacco_name,sacco_email,admin_email,admin_firstname,admin_lastname,admin_phonenumber,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();sacco_name=data.sacco_name,sacco_email=data.sacco_email,admin_email=data.admin_email,admin_firstname=data.admin_firstname,admin_lastname=data.admin_lastname,admin_phonenumber=data.admin_phonenumber;_context2.prev=2;_context2.next=5;return api.put(\"/saccos/update/\".concat(id),{sacco_name:sacco_name,sacco_email:sacco_email,admin_email:admin_email,admin_firstname:admin_firstname,admin_lastname:admin_lastname,admin_phonenumber:admin_phonenumber});case 5:res=_context2.sent;toast.success(res.data.msg);history.push('/dashboard/saccos');_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](2);toast.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,10]]);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();useEffect(function(){getProfile();setId(location.state.id);console.log(\"sacco id=>\",id);},[name,id]);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Dashboard\",title:\"Edit Sacco Profile\"}),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"div\",{className:\"edit-profile\",style:{marginTop:'3%'}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xl:\"4\"},/*#__PURE__*/React.createElement(Card,{style:{boxShadow:'5px 5px 20px #263238'}},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title mb-0\"},\"Sacco Profile\")),/*#__PURE__*/React.createElement(CardBody,{style:{marginBottom:\"15%\"}},/*#__PURE__*/React.createElement(Row,{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-auto\"},/*#__PURE__*/React.createElement(Avatar,{maxInitials:1,size:65,round:true,name:data.sacco_name,color:'blue'})),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-1 mt-2\"},name,\" Sacco\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-2\"},\"Admin: \",data.admin_firstname,\" \",data.admin_lastname))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"Sacco Name\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"First Name\",name:\"sacco_name\",defaultValue:data.sacco_name,onChange:function onChange(e){return _onChange(e);},autoFocus:true})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"Sacco Email\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"Last Name\",name:\"sacco_email\",defaultValue:data.sacco_email,onChange:function onChange(e){return _onChange(e);}}))))),/*#__PURE__*/React.createElement(Col,{xl:\"8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{boxShadow:'5px 5px 20px #263238'}},/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title mb-0\"},\"Sacco Admin Profile\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-options\"},/*#__PURE__*/React.createElement(\"a\",{className:\"card-options-collapse\",href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fe fe-chevron-up\"})),/*#__PURE__*/React.createElement(\"a\",{className:\"card-options-remove\",href:\"#javascript\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fe fe-x\"})))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"6\",md:\"6\",style:{marginTop:\"5%\"}},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"First Name\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"First Name\",name:\"admin_firstname\",defaultValue:data.admin_firstname,onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Col,{sm:\"6\",md:\"6\",style:{marginTop:\"5%\"}},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"Last Name\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"Last Name\",name:\"admin_lastname\",defaultValue:data.admin_lastname,onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Col,{sm:\"6\",md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"Admin email\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"email\",placeholder:\"Sacco Name\",name:\"admin_email\",defaultValue:data.admin_email,onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Col,{sm:\"6\",md:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"form-label\"},\"Phone Number\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",placeholder:\"Phone Number\",name:\"admin_phonenumber\",defaultValue:data.admin_phonenumber,onChange:function onChange(e){return _onChange(e);}}))))),/*#__PURE__*/React.createElement(CardFooter,{className:\"text-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Update\"))))))))));};export default withRouter(SaccoProfile);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/components/new/SaccoProfile.jsx"],"names":["React","Fragment","useEffect","useState","Breadcrumb","Container","Row","Col","Card","CardHeader","CardBody","CardFooter","Media","Form","FormGroup","Label","Input","Button","axios","Layout","yup","toast","withRouter","useHistory","Avatar","api","create","baseURL","SaccoProfile","location","data","setData","name","setName","id","setId","history","getProfile","state","sacco_name","console","log","get","res","error","message","onChange","e","target","value","handleSubmit","preventDefault","sacco_email","admin_email","admin_firstname","admin_lastname","admin_phonenumber","put","success","msg","push","marginTop","boxShadow","marginBottom"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport Breadcrumb from '../../layout/breadcrumb'\nimport { Container, Row, Col, Card, CardHeader, CardBody, CardFooter, Media, Form, FormGroup, Label, Input, Button } from 'reactstrap';\nimport axios from 'axios'\nimport Layout from \"../AppWrapper\";\nimport * as yup from 'yup';\nimport { toast } from 'react-toastify';\nimport { withRouter , useHistory} from 'react-router';\nimport Avatar from 'react-avatar'\n\nconst api = axios.create({\n  baseURL: `https://afya-kwanza-backend.herokuapp.com`\n})\n\n\nconst SaccoProfile = ({location}) => {\n\n  const [data, setData] = useState({})\n  // const [token, setToken] = useState('')\n  const [name, setName] = useState('')\n  const [id, setId] = useState('')\n  const history = useHistory()\n\n\n  const getProfile = async () => {\n    // setToken(localStorage.tokenated)\n    // console.log(\"Stored token=>\", token)\n\n    setName(location.state.sacco_name)\n    console.log(\"Stored name=>\", name)\n\n    try {\n      const res = await api.get(`/saccos/sacco/${name}`);\n\n      // console.log(\"state data==>\", res.data[0])\n      // const data = await res.json();\n      setData(res.data[0])\n      // console.log(\"data with sacco_name querry==>\", data)\n\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const onChange = e => setData({...data, [e.target.name]: e.target.value})\n\n  const handleSubmit = async e =>{\n    e.preventDefault();\n\n    const {sacco_name, sacco_email,admin_email,admin_firstname,admin_lastname,admin_phonenumber} = data\n\n    try {\n      const res = await api.put(`/saccos/update/${id}`, {sacco_name, sacco_email,admin_email,admin_firstname,admin_lastname,admin_phonenumber})\n      toast.success(res.data.msg)\n      history.push('/dashboard/saccos')\n    } catch (error) {\n      toast.error(error)\n    }\n\n\n  }\n\n\n  useEffect(() => {\n\n    getProfile()\n    setId(location.state.id)\n    console.log(\"sacco id=>\", id)\n\n  }, [name,id])\n\n \n\n  return (\n    <Fragment>\n      <Layout>\n        <Breadcrumb parent=\"Dashboard\" title=\"Edit Sacco Profile\" />\n        <Container fluid={true}>\n          <div className=\"edit-profile\" style={{marginTop:'3%'}}>\n            <form onSubmit={handleSubmit}>\n              <Row>\n                <Col xl=\"4\">\n                  <Card style={{ boxShadow: '5px 5px 20px #263238'}}>\n                    <CardHeader>\n                      <h4 className=\"card-title mb-0\">Sacco Profile</h4>\n                      {/* <div className=\"card-options\">\n                      <a className=\"card-options-collapse\" href=\"#javascript\">\n                        <i className=\"fe fe-chevron-up\"></i>\n                      </a>\n                      <a className=\"card-options-remove\" href=\"#javascript\">\n                        <i className=\"fe fe-x\"></i>\n                      </a>\n                    </div> */}\n                    </CardHeader>\n                    <CardBody style={{ marginBottom: \"15%\" }}>\n                      <Row className=\"mb-4\">\n                        <div className=\"col-auto\">\n                         <Avatar maxInitials={1} size={65} round={true} name={data.sacco_name}  color={'blue'}/> \n                        </div>\n                        <Col>\n                          <h5 className=\"mb-1 mt-2\">{name} Sacco</h5>\n                          <p className=\"mb-2\">Admin: {data.admin_firstname} {data.admin_lastname}</p>\n                        </Col>\n                      </Row>\n                      <FormGroup>\n                        <Label className=\"form-label\">Sacco Name</Label>\n                        <Input className=\"form-control\" type=\"text\" placeholder=\"First Name\" name=\"sacco_name\" defaultValue={data.sacco_name} onChange={e => onChange(e)} autoFocus/>\n                      </FormGroup>\n                      <FormGroup>\n                        <Label className=\"form-label\">Sacco Email</Label>\n                        <Input className=\"form-control\" type=\"text\" placeholder=\"Last Name\" name=\"sacco_email\" defaultValue={data.sacco_email}  onChange={e => onChange(e)}/>\n                      </FormGroup>\n\n                    </CardBody>\n                  </Card>\n                </Col>\n                <Col xl=\"8\">\n                  <div className=\"card\" style={{ boxShadow: '5px 5px 20px #263238'}}>\n                    <CardHeader>\n                      <h4 className=\"card-title mb-0\">Sacco Admin Profile</h4>\n                      <div className=\"card-options\">\n                        <a className=\"card-options-collapse\" href=\"#javascript\">\n                          <i className=\"fe fe-chevron-up\"></i>\n                        </a>\n                        <a className=\"card-options-remove\" href=\"#javascript\">\n                          <i className=\"fe fe-x\"></i>\n                        </a>\n                      </div>\n                    </CardHeader>\n                    <CardBody>\n                      <Row>\n                        <Col sm=\"6\" md=\"6\" style={{ marginTop: \"5%\" }}>\n                          <FormGroup>\n                            <Label className=\"form-label\">First Name</Label>\n                            <Input className=\"form-control\" type=\"text\" placeholder=\"First Name\" name=\"admin_firstname\" defaultValue={data.admin_firstname}  onChange={e => onChange(e)}/>\n                          </FormGroup>\n                        </Col>\n                        <Col sm=\"6\" md=\"6\" style={{ marginTop: \"5%\" }}>\n                          <FormGroup>\n                            <Label className=\"form-label\">Last Name</Label>\n                            <Input className=\"form-control\" type=\"text\" placeholder=\"Last Name\" name=\"admin_lastname\" defaultValue={data.admin_lastname}  onChange={e => onChange(e)}/>\n                          </FormGroup>\n                        </Col>\n                        <Col sm=\"6\" md=\"6\">\n                          <FormGroup>\n                            <Label className=\"form-label\">Admin email</Label>\n                            <Input className=\"form-control\" type=\"email\" placeholder=\"Sacco Name\" name=\"admin_email\" defaultValue={data.admin_email}  onChange={e => onChange(e)}/>\n                          </FormGroup>\n                        </Col>\n                        <Col sm=\"6\" md=\"6\">\n                          <FormGroup>\n                            <Label className=\"form-label\">Phone Number</Label>\n                            <Input className=\"form-control\" type=\"text\" placeholder=\"Phone Number\" name=\"admin_phonenumber\" defaultValue={data.admin_phonenumber} onChange={e => onChange(e)} />\n                          </FormGroup>\n                        </Col>\n\n                        {/* <Col md=\"12\">\n                        <FormGroup>\n                          <Label className=\"form-label\">Address</Label>\n                          <Input className=\"form-control\" type=\"text\" placeholder=\"Home Address\" />\n                        </FormGroup>\n                      </Col>\n                      <Col sm=\"6\" md=\"4\">\n                        <FormGroup>\n                          <Label className=\"form-label\">City</Label>\n                          <Input className=\"form-control\" type=\"text\" placeholder=\"City\" />\n                        </FormGroup>\n                      </Col>\n                      <Col sm=\"6\" md=\"3\">\n                        <FormGroup>\n                          <Label className=\"form-label\">Postal Code</Label>\n                          <Input className=\"form-control\" type=\"number\" placeholder=\"ZIP Code\" />\n                        </FormGroup>\n                      </Col>\n                      <Col md=\"5\">\n                        <FormGroup>\n                          <Label className=\"form-label\">Country</Label>\n                          <Input type=\"select\" name=\"select\" className=\"form-control btn-square\">\n                            \n                          </Input>\n                        </FormGroup>\n                      </Col> */}\n\n                      </Row>\n                    </CardBody>\n                    <CardFooter className=\"text-right\">\n                      <button className=\"btn btn-primary\" type=\"submit\">Update</button>\n                    </CardFooter>\n                  </div>\n                </Col>\n              </Row>\n            </form>\n          </div>\n        </Container>\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default withRouter(SaccoProfile);"]},"metadata":{},"sourceType":"module"}