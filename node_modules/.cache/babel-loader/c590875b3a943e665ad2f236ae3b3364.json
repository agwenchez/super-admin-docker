{"ast":null,"code":"var _jsxFileName = \"/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/src/index.jsx\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { firebase_app, auth0 } from './data/config';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './components/app';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { ToastContainer } from 'react-toastify';\nimport { routes } from './route';\nimport ConfigDB from './data/customizer/config';\nimport { configureFakeBackend, handleResponse } from './services/fack.backend'; // import {authHeader} from './services/auth'\n// Signin page\n\nimport Signin from './auth/signin'; // Dashboard routes                                   \n\nimport MembersTable from \"../src/components/new/MembersTable\";\nimport SaccoTable from \"../src/components/new/SaccoTable\";\nimport SaccoMemberRegistration from \"../src/components/new/Formik/SaccoMemberRegistration\";\nimport SaccoRegistration from \"../src/components/new/Formik/SaccoRegistration\";\nimport Login from \"../src/components/new/Login\"; // Maintenanc\n\nimport Maintenance from \"./pages/maintenance\"; // import LoginMUI from \"../src/components/new/Login\"\n\nimport Callback from './auth/callback';\nimport Dashboard from './components/dashboard/dashboard'; // setup fake backend\n// configureFakeBackend();\n\nconst Root = props => {\n  // const [animate, setAnimate] = useState(\"\");\n  // const animation = localStorage.getItem(\"animation\") || ConfigDB.data.router_animation || 'zoom fade'\n  const abortController = new AbortController();\n  const [authenticated, setAuthenticated] = useState(false); // const jwt_token = localStorage.getItem('token');\n\n  const jwt_token = localStorage.getItem('tokenated');\n\n  const checkAuth = async () => {\n    try {\n      console.log(\"Token==>\", localStorage.tokenated);\n      const res = await fetch(\"http://localhost:4000/admin/is-verified\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.tokenated\n        }\n      });\n      const data = await res.json();\n      data === true ? setAuthenticated(true) : setAuthenticated(false); // console.log(\"Data from server==>\",data)\n      // setAuthenticated(data);\n      // console.log(\"Async IIFE ==>\", authenticated);\n      // return data;\n      // return authenticated;\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  const checkToken = () => {\n    return console.log(\"Token==>\", localStorage.tokenated);\n  };\n\n  const setAuth = boolean => {\n    setAuthenticated(boolean);\n  };\n\n  useEffect(() => {\n    // setAnimate(animation)\n    // console.ignoredYellowBox = [\"Warning: Each\", \"Warning: Failed\"];\n    // console.disableYellowBox = true;\n    // (async ()=>{\n    //   const auth = await checkAuth()\n    //   // console.log(\"Async IIFE==>\", auth);\n    //   console.log(\"Async IIFE authenticated==>\", auth);\n    // })()\n    checkAuth(); // checkToken()\n    // return function cleanup() {\n    //     abortController.abort();\n    // }\n    // eslint-disable-next-line \n  }, []); //  console.log(\"Authenticated==>\",authenticated)\n  //  console.log(\"Current user==>\",currentUser)\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Provider, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BrowserRouter, {\n    basename: `/`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: `non-server/login`,\n    component: Signin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: props => !authenticated ? /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/dashboard/`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 29\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    render: props => !authenticated ? /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard/\",\n    render: props => authenticated ? /*#__PURE__*/React.createElement(Dashboard, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 22\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 22\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard/members\",\n    render: props => authenticated ? /*#__PURE__*/React.createElement(MembersTable, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard/members/new\",\n    render: props => authenticated ? /*#__PURE__*/React.createElement(SaccoMemberRegistration, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard/saccos/new\",\n    render: props => authenticated ? /*#__PURE__*/React.createElement(SaccoRegistration, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/dashboard/saccos\",\n    render: props => authenticated ? /*#__PURE__*/React.createElement(SaccoTable, Object.assign({}, props, {\n      setAuth: setAuth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    })) : /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 23\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nReactDOM.render( /*#__PURE__*/React.createElement(Root, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 17\n  }\n}), document.getElementById('root'));\nserviceWorker.unregister();","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/src/index.jsx"],"names":["React","Fragment","useState","useEffect","ReactDOM","firebase_app","auth0","BrowserRouter","Switch","Route","Redirect","serviceWorker","Provider","store","App","CSSTransition","TransitionGroup","ToastContainer","routes","ConfigDB","configureFakeBackend","handleResponse","Signin","MembersTable","SaccoTable","SaccoMemberRegistration","SaccoRegistration","Login","Maintenance","Callback","Dashboard","Root","props","abortController","AbortController","authenticated","setAuthenticated","jwt_token","localStorage","getItem","checkAuth","console","log","tokenated","res","fetch","method","headers","token","data","json","err","error","message","checkToken","setAuth","boolean","render","document","getElementById","unregister"],"mappings":"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","sourcesContent":["import React, { Fragment,useState,useEffect } from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport {firebase_app, auth0} from './data/config';\nimport {BrowserRouter,Switch,Route,Redirect} from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store'\nimport App from './components/app'\nimport { CSSTransition,TransitionGroup } from 'react-transition-group'\nimport {ToastContainer} from 'react-toastify';\nimport {routes} from './route';\nimport ConfigDB  from './data/customizer/config'\nimport {configureFakeBackend ,handleResponse} from './services/fack.backend'\n// import {authHeader} from './services/auth'\n// Signin page\nimport Signin from './auth/signin'\n\n// Dashboard routes                                   \nimport MembersTable from \"../src/components/new/MembersTable\";\nimport SaccoTable from \"../src/components/new/SaccoTable\";\nimport SaccoMemberRegistration from \"../src/components/new/Formik/SaccoMemberRegistration\";\nimport SaccoRegistration from \"../src/components/new/Formik/SaccoRegistration\";\nimport Login from \"../src/components/new/Login\";\n\n\n// Maintenanc\nimport Maintenance from \"./pages/maintenance\"\n\n// import LoginMUI from \"../src/components/new/Login\"\nimport Callback from './auth/callback'\nimport Dashboard from './components/dashboard/dashboard';\n\n// setup fake backend\n// configureFakeBackend();\n\n\nconst Root = (props) =>  {\n\n  // const [animate, setAnimate] = useState(\"\");\n  // const animation = localStorage.getItem(\"animation\") || ConfigDB.data.router_animation || 'zoom fade'\n  const abortController = new AbortController();\n\n  const [authenticated,setAuthenticated] = useState(false)\n  // const jwt_token = localStorage.getItem('token');\n  const jwt_token =localStorage.getItem('tokenated');\n\n  \n  const checkAuth =  async ()=>{\n    try{\n\n      console.log(\"Token==>\",localStorage.tokenated)\n      const res = await fetch(\"http://localhost:4000/admin/is-verified\", {\n        method: \"GET\",\n        headers: { token: localStorage.tokenated }\n      });\n  \n      const data = await res.json()\n      data === true ? setAuthenticated(true) : setAuthenticated(false);\n      // console.log(\"Data from server==>\",data)\n      // setAuthenticated(data);\n      // console.log(\"Async IIFE ==>\", authenticated);\n      // return data;\n      // return authenticated;\n\n    }\n    catch(err){\n      console.error(err.message);\n    }\n\n  }\n\n\n const checkToken = ()=>{\n  return console.log(\"Token==>\",localStorage.tokenated)\n }\n\n const setAuth = boolean => {\n  setAuthenticated(boolean);\n};\n\n\n  useEffect(() => {\n\n      // setAnimate(animation)\n      // console.ignoredYellowBox = [\"Warning: Each\", \"Warning: Failed\"];\n      // console.disableYellowBox = true;\n     \n      // (async ()=>{\n      //   const auth = await checkAuth()\n      //   // console.log(\"Async IIFE==>\", auth);\n      //   console.log(\"Async IIFE authenticated==>\", auth);\n      // })()\n      checkAuth()\n\n      // checkToken()\n      \n      // return function cleanup() {\n      //     abortController.abort();\n      // }\n      \n      // eslint-disable-next-line \n    }, []);\n\n//  console.log(\"Authenticated==>\",authenticated)\n//  console.log(\"Current user==>\",currentUser)\n\n    return(\n      <Fragment>\n        {/* <Auth0Provider domain={auth0.domain} clientId={auth0.clientId} redirectUri={auth0.redirectUri}> */}\n        <Provider store={store}>\n        <ToastContainer />\n        <BrowserRouter basename={`/`}>\n        <Switch>\n\n          <Route  path={`non-server/login`} component={Signin} />\n          {/* <Route  path={`/login`} component={Login} /> */}\n          <Route\n            exact\n            path=\"/login\"\n            render={props =>\n              !authenticated ? (\n                <Login {...props} setAuth={setAuth} />\n              ) : (\n                <Redirect to=\"/dashboard/\" />\n              )\n            }\n          />\n          \n            <App>\n\n                <Route exact path='/' render={() => {\n                    return (<Redirect to={`/dashboard/`} />)\n                }} /> \n\n                <Route\n                  exact\n                  path=\"/login\"\n                  render={props =>\n                    !authenticated ? (\n                      <Login {...props} setAuth={setAuth} />\n                    ) : (\n                      <Redirect to=\"/dashboard/\" />\n                    )\n                  }\n                />\n\n                <Route\n                 exact\n                 path=\"/dashboard/\"\n                 render={props =>\n                   authenticated ? (\n                     <Dashboard {...props} setAuth={setAuth} />\n                   ) : (\n                     <Redirect to=\"/login\" />\n                   )\n                 }\n                />\n\n                <Route\n                  exact\n                  path=\"/dashboard/members\"\n                  render={props =>\n                    authenticated ? (\n                      <MembersTable {...props} setAuth={setAuth} />\n                    ) : (\n                      <Redirect to=\"/login\" />\n                    )\n                  }\n                />\n\n                <Route\n                  exact\n                  path=\"/dashboard/members/new\"\n                  render={props =>\n                    authenticated ? (\n                      <SaccoMemberRegistration {...props} setAuth={setAuth} />\n                    ) : (\n                      <Redirect to=\"/login\" />\n                    )\n                  }\n                />\n\n\n                <Route\n                  exact\n                  path=\"/dashboard/saccos/new\"\n                  render={props =>\n                    authenticated ? (\n                      <SaccoRegistration {...props} setAuth={setAuth} />\n                    ) : (\n                      <Redirect to=\"/login\" />\n                    )\n                  }\n                />\n                <Route\n                  exact\n                  path=\"/dashboard/saccos\"\n                  render={props =>\n                    authenticated ? (\n                      <SaccoTable {...props} setAuth={setAuth} />\n                    ) : (\n                      <Redirect to=\"/login\" />\n                    )\n                  }\n                />\n\n                \n\n      \n            </App>\n          \n        </Switch>\n        </BrowserRouter>\n        </Provider>\n        {/* </Auth0Provider> */}\n      </Fragment>\n      )\n}\n\nReactDOM.render(<Root/>,\n  document.getElementById('root')\n);\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}