{"ast":null,"code":"var _jsxFileName = \"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/components/dashboard/dashboard.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"reactstrap\";\nimport InfoCards from \"../new/InfoCards\";\nimport Charts from \"../new/Charts\";\nimport Breadcrumb from \"../../layout/breadcrumb\";\nimport Layout from \"../AppWrapper\";\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nconst api = axios.create({\n  baseURL: `http://localhost:4000`\n});\n\nconst Dashboard = () => {\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState('');\n  const [name, setName] = useState(\"\");\n  const [data, setData] = useState({}); // const jwt_token = localStorage.tokenated\n\n  const getProfile = async () => {\n    setToken(localStorage.tokenated); // console.log(\"Stored token=>\",token)\n\n    try {\n      const res = await api.get(\"/admin/is-verified\", {\n        headers: {\n          token: token\n        }\n      }); // const data = await res.json();\n      // console.log(\"data from server==>\", res.data)\n\n      setUser(res.data);\n      setName(res.data.name); // console.log(\"Async  user==>\", user)\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getProfile();\n    api.get('/saccos/all').then(res => {\n      // console.log(\"data =>\", res.data)\n      // const data = res.json(res)\n      setData(res.data);\n      console.log('saccos from server=>', data);\n      const sacco_names = data.map(names => names.sacco_name);\n      localStorage.setItem('sacco_names', sacco_names);\n      console.log(\"sacco names =>\", localStorage.sacco_names);\n    }).catch(error => {\n      console.log(\"Error\", error);\n    }); // setToken(localStorage.tokenated)\n    // console.log(\"Token consoled=>\", token)\n    // console.log(\"User data binding==>\", user)\n  }, [token, name]);\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    parent: \"Dashboard\",\n    title: \"Admin Dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"Welcome \", name), /*#__PURE__*/React.createElement(InfoCards, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Charts, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/components/dashboard/dashboard.jsx"],"names":["React","useEffect","useState","Container","InfoCards","Charts","Breadcrumb","Layout","axios","withRouter","api","create","baseURL","Dashboard","user","setUser","token","setToken","name","setName","data","setData","getProfile","localStorage","tokenated","res","get","headers","err","console","error","message","then","log","sacco_names","map","names","sacco_name","setItem","catch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container } from \"reactstrap\";\nimport InfoCards from \"../new/InfoCards\";\nimport Charts from \"../new/Charts\";\nimport Breadcrumb from \"../../layout/breadcrumb\";\nimport Layout from \"../AppWrapper\"\nimport axios from 'axios'\nimport {withRouter} from 'react-router-dom';\n\nconst api = axios.create({\n  baseURL:`http://localhost:4000`\n})\n\nconst Dashboard = () => {\n  \n  const [user, setUser] = useState(null)\n  const [token, setToken] = useState('')\n  const [name, setName] = useState(\"\")\n  const [data, setData] = useState({})\n  // const jwt_token = localStorage.tokenated\n  const getProfile = async () => {\n    setToken(localStorage.tokenated)\n    // console.log(\"Stored token=>\",token)\n    try {\n      const res = await api.get(\"/admin/is-verified\", {\n        headers: { token: token }\n      });\n\n      // const data = await res.json();\n      // console.log(\"data from server==>\", res.data)\n      setUser(res.data)\n      setName(res.data.name)\n      // console.log(\"Async  user==>\", user)\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n\n    getProfile()\n\n    api.get('/saccos/all')\n    .then(res => {\n        // console.log(\"data =>\", res.data)\n        // const data = res.json(res)\n        setData(res.data)\n      \n        console.log('saccos from server=>', data)\n        const sacco_names = data.map(names=>names.sacco_name)\n        localStorage.setItem('sacco_names', sacco_names)\n        console.log(\"sacco names =>\", localStorage.sacco_names)\n    }\n    ).catch(error => {\n        console.log(\"Error\", error)\n    })\n    // setToken(localStorage.tokenated)\n    // console.log(\"Token consoled=>\", token)\n    // console.log(\"User data binding==>\", user)\n\n  }, [token,name])\n\n\n  return (\n    <Layout>\n\n    <Container fluid={true}>\n      <Breadcrumb parent=\"Dashboard\" title=\"Admin Dashboard\" />\n      <p>Welcome {name}</p>\n      <InfoCards />\n      <Charts/>\n    </Container>\n    </Layout>\n  );\n}\n\n\nexport default withRouter(Dashboard)"]},"metadata":{},"sourceType":"module"}