{"ast":null,"code":"import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{TextField,Grid,Button,Paper}from'@material-ui/core';import{useFormik}from'formik';import*as yup from'yup';import axios from'axios';import{toast}from'react-toastify';import Breadcrumb from'../../../layout/breadcrumb';import{withRouter}from'react-router';import Layout from\"../../AppWrapper\";var api=axios.create({baseURL:\"https://afya-kwanza-backend.herokuapp.com\"});var validationSchema=yup.object().shape({sacco_name:yup.string('Enter a name').required('Sacco Name is a required field'),sacco_email:yup.string('Enter a sacco email').email('Enter a valid email').required('Email is required'),admin_email:yup.string('Enter an admin email').email('Enter a valid email').required('Email is required'),admin_firstname:yup.string('Enter Admin First Name').max(30,'Admin name should be 30 characters max').required('Admin First Name is a required field'),admin_lastname:yup.string('Enter Admin Last Name').max(30,'Admin name should be 30 characters max').required('Admin Last Name is a required field'),admin_password:yup.string('Enter an admin password').required('Admin password is a required field'),admin_phonenumber:yup.string('Enter phone number').max(10,'Phone number should be 10 characters max').required('Phone number is a required field')});var useStyles=makeStyles(function(theme){var _textField;return{root:{display:'flex',paddingTop:theme.spacing(10),paddingBottom:theme.spacing(10),borderRadius:'15px',backgroundColor:'white',marginTop:theme.spacing(3),marginLeft:theme.spacing(2),marginRight:theme.spacing(2)},textField:(_textField={marginLeft:theme.spacing(8),marginRight:theme.spacing(3)},_defineProperty(_textField,theme.breakpoints.down('sm'),{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:\"85%\"}),_defineProperty(_textField,\"width\",'45ch'),_textField),div:{// display:'flex'\ntextAlign:'right'},button:{margin:theme.spacing(1),color:'black',backgroundColor:'#313F9F',border:'1px solid black',borderRadius:'10px',marginTop:'20%'},form:{paddingTop:theme.spacing(4)}};});var SaccoRegistration=function SaccoRegistration(){var classes=useStyles();// const [data, setData] = React.useState({});\nvar formik=useFormik({initialValues:{sacco_name:'',admin_email:\"\",sacco_email:\"\",admin_lastname:\"\",admin_firstname:\"\",role:\"sacco_admin\",admin_phonenumber:\"\",admin_password:\"\"},validationSchema:validationSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setSubmitting,resetForm,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref.setSubmitting,resetForm=_ref.resetForm;_context.prev=1;setSubmitting(true);_context.next=5;return api.post('/saccos/add',values);case 5:response=_context.sent;if(response.status===201){toast.success(response.data);resetForm();}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(\"Some error occured=>\",_context.t0.message);if(_context.t0.message==='Request failed with status code 409'){toast.error('Sacco with that name already exists');}else{toast.error('Internal server error');}// resetForm()\ncase 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Saccos\",title:\"Sacco Registration\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.root,style:{boxShadow:'5px 5px 20px #263238'}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:formik.handleSubmit,className:classes.form},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"sacco_name\",name:\"sacco_name\",label:\"SACCO NAME\",className:classes.textField,placeholder:\"Enter sacco name\",margin:\"normal\",InputLabelProps:{shrink:true},size:\"small\",variant:\"outlined\",value:formik.values.sacco_name,onChange:formik.handleChange,error:formik.touched.sacco_name&&Boolean(formik.errors.sacco_name),helperText:formik.touched.sacco_name&&formik.errors.sacco_name,autoFocus:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"SACCO EMAIL\",id:\"sacco_email\",name:\"sacco_email\",placeholder:\"Enter sacco email\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.sacco_email,onChange:formik.handleChange,error:formik.touched.sacco_email&&Boolean(formik.errors.sacco_email),helperText:formik.touched.sacco_email&&formik.errors.sacco_email}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"ADMIN FIRST NAME\",id:\"admin_firstname\",name:\"admin_firstname\",placeholder:\"Enter Admin First Name\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.admin_firstname,onChange:formik.handleChange,error:formik.touched.admin_firstname&&Boolean(formik.errors.admin_firstname),helperText:formik.touched.admin_firstname&&formik.errors.admin_firstname})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"ADMIN LAST NAME\",id:\"admin_lastname\",name:\"admin_lastname\",placeholder:\"Enter Admin Last Name\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.admin_lastname,onChange:formik.handleChange,error:formik.touched.admin_lastname&&Boolean(formik.errors.admin_lastname),helperText:formik.touched.admin_firstname&&formik.errors.admin_lastname}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"ADMIN EMAIL\",id:\"admin_email\",name:\"admin_email\",placeholder:\"Enter Admin Email\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.admin_email,onChange:formik.handleChange,error:formik.touched.admin_email&&Boolean(formik.errors.admin_email),helperText:formik.touched.admin_email&&formik.errors.admin_email})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"ADMIN PHONENUMBER\",id:\"admin_phonenumber\",name:\"admin_phonenumber\",placeholder:\"Enter Admin phonenumber\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.admin_phonenumber,onChange:formik.handleChange,error:formik.touched.admin_phonenumber&&Boolean(formik.errors.admin_phonenumber),helperText:formik.touched.admin_phonenumber&&formik.errors.admin_phonenumber}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"ADMIN PASSWORD\",id:\"admin_password\",name:\"admin_password\",placeholder:\"Enter Admin password\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.admin_password,onChange:formik.handleChange,error:formik.touched.admin_password&&Boolean(formik.errors.admin_password),helperText:formik.touched.admin_password&&formik.errors.admin_password})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"Role\",id:\"role\",name:\"role\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},inputProps:{readOnly:true},variant:\"outlined\",value:formik.values.role// onChange={formik.handleChange}\n// error={formik.touched.admin_password && Boolean(formik.errors.admin_password)}\n// helperText={formik.touched.admin_password && formik.errors.admin_password}\n}))),/*#__PURE__*/React.createElement(Grid,{container:true,style:{width:'86%',margin:'0 7%'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.div},/*#__PURE__*/React.createElement(Button,{type:\"submit\",disabled:formik.isSubmitting,size:\"medium\",variant:\"raised\",className:classes.button},\"Submit\")))))))));};export default withRouter(SaccoRegistration);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/src/components/new/Formik/SaccoRegistration.jsx"],"names":["React","makeStyles","TextField","Grid","Button","Paper","useFormik","yup","axios","toast","Breadcrumb","withRouter","Layout","api","create","baseURL","validationSchema","object","shape","sacco_name","string","required","sacco_email","email","admin_email","admin_firstname","max","admin_lastname","admin_password","admin_phonenumber","useStyles","theme","root","display","paddingTop","spacing","paddingBottom","borderRadius","backgroundColor","marginTop","marginLeft","marginRight","textField","breakpoints","down","width","div","textAlign","button","margin","color","border","form","SaccoRegistration","classes","formik","initialValues","role","onSubmit","values","setSubmitting","resetForm","post","response","status","success","data","console","log","message","error","boxShadow","handleSubmit","shrink","handleChange","touched","Boolean","errors","readOnly","isSubmitting"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, Grid, Button, Paper } from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Breadcrumb from '../../../layout/breadcrumb';\nimport { withRouter } from 'react-router';\nimport Layout from \"../../AppWrapper\"\n\nconst api = axios.create({\n    baseURL: `https://afya-kwanza-backend.herokuapp.com`\n})\n\nconst validationSchema = yup.object().shape({\n    sacco_name: yup\n        .string('Enter a name')\n        .required('Sacco Name is a required field'),\n    sacco_email: yup\n        .string('Enter a sacco email')\n        .email('Enter a valid email')\n        .required('Email is required'),\n    admin_email: yup\n        .string('Enter an admin email')\n        .email('Enter a valid email')\n        .required('Email is required'),\n    admin_firstname: yup\n        .string('Enter Admin First Name')\n        .max(30, 'Admin name should be 30 characters max')\n        .required('Admin First Name is a required field'),\n    admin_lastname: yup\n        .string('Enter Admin Last Name')\n        .max(30, 'Admin name should be 30 characters max')\n        .required('Admin Last Name is a required field'),\n    admin_password: yup\n        .string('Enter an admin password')\n        .required('Admin password is a required field'),\n    admin_phonenumber: yup\n        .string('Enter phone number')\n        .max(10, 'Phone number should be 10 characters max')\n        .required('Phone number is a required field'),\n});\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        paddingTop: theme.spacing(10),\n        paddingBottom: theme.spacing(10),\n        borderRadius: '15px',\n        backgroundColor: 'white',\n        marginTop: theme.spacing(3),\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2)\n    },\n    textField: {\n        marginLeft: theme.spacing(8),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n            width: \"85%\"\n        },\n        width: '45ch',\n    },\n    div: {\n        // display:'flex'\n        textAlign: 'right'\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: 'black',\n        backgroundColor: '#313F9F',\n        border: '1px solid black',\n        borderRadius: '10px',\n        marginTop: '20%'\n    },\n    form: {\n        paddingTop: theme.spacing(4)\n    }\n}));\n\nconst SaccoRegistration = () => {\n    const classes = useStyles();\n    // const [data, setData] = React.useState({});\n\n    const formik = useFormik({\n        initialValues: {\n            sacco_name: '',\n            admin_email: \"\",\n            sacco_email: \"\",\n            admin_lastname: \"\",\n            admin_firstname: \"\",\n            role: \"sacco_admin\",\n            admin_phonenumber: \"\",\n            admin_password: \"\"\n        },\n        validationSchema: validationSchema,\n        onSubmit: async (values, { setSubmitting, resetForm }) => {\n            try {\n                setSubmitting(true);\n                const response = await api.post('/saccos/add', values)\n                if (response.status === 201) {\n                    toast.success(response.data)\n                    resetForm()\n                }\n            } catch (error) {\n                console.log(\"Some error occured=>\", error.message)\n                if (error.message === 'Request failed with status code 409') {\n\n                    toast.error('Sacco with that name already exists')\n                }\n                else {\n                    toast.error('Internal server error')\n                }\n                // resetForm()\n            }\n\n        },\n    });\n\n\n    return (\n        <Layout>\n            <Grid item xs=\"12\">\n                <Breadcrumb parent=\"Saccos\" title=\"Sacco Registration\" />\n            </Grid>\n            <div className={classes.root} style={{ boxShadow: '5px 5px 20px #263238' }}>\n                <Grid container spacing={3} >\n                    {/* <h5 style={{borderBottom: '2px solid black'}}>Sacco Details</h5> */}\n                    {/* <hr/> */}\n                    <Grid item xs=\"12\">\n                        <form onSubmit={formik.handleSubmit} className={classes.form}>\n                            <Grid container spacing={3}>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        id=\"sacco_name\"\n                                        name=\"sacco_name\"\n                                        label=\"SACCO NAME\"\n                                        className={classes.textField}\n                                        placeholder=\"Enter sacco name\"\n                                        margin=\"normal\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        size=\"small\"\n                                        variant=\"outlined\"\n                                        value={formik.values.sacco_name}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.sacco_name && Boolean(formik.errors.sacco_name)}\n                                        helperText={formik.touched.sacco_name && formik.errors.sacco_name}\n                                        autoFocus\n                                    />\n\n                                </Grid>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"SACCO EMAIL\"\n                                        id=\"sacco_email\"\n                                        name=\"sacco_email\"\n                                        placeholder=\"Enter sacco email\"\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.sacco_email}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.sacco_email && Boolean(formik.errors.sacco_email)}\n                                        helperText={formik.touched.sacco_email && formik.errors.sacco_email}\n                                    />\n                                </Grid>\n\n                            </Grid>\n                            <Grid container spacing={3}>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"ADMIN FIRST NAME\"\n                                        id=\"admin_firstname\"\n                                        name=\"admin_firstname\"\n                                        placeholder=\"Enter Admin First Name\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.admin_firstname}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.admin_firstname && Boolean(formik.errors.admin_firstname)}\n                                        helperText={formik.touched.admin_firstname && formik.errors.admin_firstname}\n                                    />\n                                </Grid>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"ADMIN LAST NAME\"\n                                        id=\"admin_lastname\"\n                                        name=\"admin_lastname\"\n                                        placeholder=\"Enter Admin Last Name\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.admin_lastname}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.admin_lastname && Boolean(formik.errors.admin_lastname)}\n                                        helperText={formik.touched.admin_firstname && formik.errors.admin_lastname}\n                                    />\n\n                                </Grid>\n\n                            </Grid>\n                            <Grid container spacing={3}>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"ADMIN EMAIL\"\n                                        id=\"admin_email\"\n                                        name=\"admin_email\"\n                                        placeholder=\"Enter Admin Email\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.admin_email}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.admin_email && Boolean(formik.errors.admin_email)}\n                                        helperText={formik.touched.admin_email && formik.errors.admin_email}\n                                    />\n\n                                </Grid>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"ADMIN PHONENUMBER\"\n                                        id=\"admin_phonenumber\"\n                                        name=\"admin_phonenumber\"\n                                        placeholder=\"Enter Admin phonenumber\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.admin_phonenumber}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.admin_phonenumber && Boolean(formik.errors.admin_phonenumber)}\n                                        helperText={formik.touched.admin_phonenumber && formik.errors.admin_phonenumber}\n                                    />\n                                </Grid>\n\n                            </Grid>\n                            <Grid container spacing={3}>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"ADMIN PASSWORD\"\n                                        id=\"admin_password\"\n                                        name=\"admin_password\"\n                                        placeholder=\"Enter Admin password\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant=\"outlined\"\n                                        value={formik.values.admin_password}\n                                        onChange={formik.handleChange}\n                                        error={formik.touched.admin_password && Boolean(formik.errors.admin_password)}\n                                        helperText={formik.touched.admin_password && formik.errors.admin_password}\n                                    />\n                                </Grid>\n                                <Grid item xs=\"12\" sm=\"6\">\n                                    <TextField\n                                        label=\"Role\"\n                                        id=\"role\"\n                                        name=\"role\"\n                                        style={{ marginTop: '2.3ch' }}\n                                        className={classes.textField}\n                                        margin=\"normal\"\n                                        size=\"small\"\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        inputProps={\n                                            { readOnly: true, }\n                                        }\n                                        variant=\"outlined\"\n                                        value={formik.values.role}\n                                    // onChange={formik.handleChange}\n                                    // error={formik.touched.admin_password && Boolean(formik.errors.admin_password)}\n                                    // helperText={formik.touched.admin_password && formik.errors.admin_password}\n                                    />\n                                </Grid>\n\n                            </Grid>\n\n                            {/* <Button\n                        type=\"button\"\n                        className=\"outline\"\n                        onClick={formik.handleReset}\n                        disabled={!formik.dirty || formik.isSubmitting}\n                    >\n                    Reset\n                    </Button> */}\n                            <Grid container style={{ width: '86%', margin: '0 7%' }}>\n                                <Grid item xs=\"3\"></Grid>\n                                <Grid item xs=\"3\"></Grid>\n                                <Grid item xs=\"3\"></Grid>\n                                <Grid item xs=\"3\">\n\n                                    <div className={classes.div}>\n                                        <Button type=\"submit\" disabled={formik.isSubmitting} size=\"medium\" variant=\"raised\" className={classes.button}>\n                                            Submit\n                            </Button>\n                                    </div>\n                                </Grid>\n                            </Grid>\n                        </form>\n                    </Grid>\n                </Grid>\n\n            </div>\n        </Layout>\n    );\n}\n\nexport default withRouter(SaccoRegistration)"]},"metadata":{},"sourceType":"module"}