{"ast":null,"code":"import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import{TextField,Grid,Button,Paper}from'@material-ui/core';import{useFormik}from'formik';import*as yup from'yup';import axios from'axios';import{toast}from'react-toastify';import Breadcrumb from'../../../layout/breadcrumb';import{useHistory,withRouter}from\"react-router-dom\";import Layout from\"../../AppWrapper\";var api=axios.create({baseURL:\"https://afya-kwanza-backend.herokuapp.com\"});var validationSchema=yup.object().shape({name:yup.string('Enter a name').required('Name is a required field'),email:yup.string('Enter your email').email('Enter a valid email').required('Email is required'),phonenumber:yup.string('Enter phone number').max(10,'Phone number should be 10 characters max').required('Phone number is a required field'),sacco:yup.string('Select a sacco').required('Sacco is a required field'),location:yup.string('Enter location').required('Location is a required field'),insurance_plan:yup.string('Enter insurance plan').required('Insurance plan is a required field')});var useStyles=makeStyles(function(theme){var _textField;return{root:{display:'flex',marginTop:theme.spacing(4),paddingTop:theme.spacing(3),paddingBottom:theme.spacing(10),borderRadius:'10px',backgroundColor:'white',marginLeft:theme.spacing(2),marginRight:theme.spacing(2)},textField:(_textField={marginLeft:theme.spacing(8),marginRight:theme.spacing(3)},_defineProperty(_textField,theme.breakpoints.down('sm'),{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:\"85%\"}),_defineProperty(_textField,\"width\",'45ch'),_textField),div:{// display:'flex'\ntextAlign:'right'},button:{margin:theme.spacing(1),color:'black',backgroundColor:'#313F9F',border:'1px solid black',borderRadius:'10px',marginTop:'20%'},form:{paddingTop:theme.spacing(4)}};});var SaccoMemberRegistration=function SaccoMemberRegistration(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),saccos=_useState2[0],setSaccos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){// setSaccos(JSON.parse(localStorage.saccos));\n// console.log((\"saccos=>\", saccos))\napi.get('/saccos/all').then(function(res){// console.log(\"data =>\", res.data)\nvar saccos=res.data;saccos.unshift({sacco_name:\"\"});// console.log(\"Saccos ushifted==>\", saccos)\nsetData(res.data);// localStorage.setItem('saccos', JSON.stringify(res.data))\n// console.log(\"saccos localstorage =>\",localStorage.saccos)\n}).catch(function(error){console.log(\"Error\",error);});},[]);var formik=useFormik({initialValues:{name:'',email:'',phonenumber:'',sacco:'',location:'',insurance_plan:''},validationSchema:validationSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref){var setSubmitting,resetForm,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref.setSubmitting,resetForm=_ref.resetForm;_context.prev=1;setSubmitting(true);_context.next=5;return api.post('/members/add',values);case 5:response=_context.sent;console.log(\"response object\",response);toast.success(response.data);resetForm();_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(\"Some error occured=>\",_context.t0.message);console.log(\"error status=>\",_context.t0.status);alert(_context.t0);// resetForm()\ncase 16:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});//   console.log(\"here are the mf values=>\", formik.values);\nreturn/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Members\",title:\"Sacco Member Registration\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.root,style:{boxShadow:'5px 5px 20px #263238'}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:formik.handleSubmit,className:classes.form},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"name\",name:\"name\",label:\"NAME\",className:classes.textField,placeholder:\"Enter name\",margin:\"normal\",InputLabelProps:{shrink:true},size:\"small\",variant:\"outlined\",value:formik.values.name,onChange:formik.handleChange,error:formik.touched.name&&Boolean(formik.errors.name),helperText:formik.touched.name&&formik.errors.name,autoFocus:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"EMAIL\",id:\"email\",name:\"email\",placeholder:\"Email\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"PHONE NUMBER\",id:\"phonenumber\",name:\"phonenumber\",placeholder:\"Phone Number\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.phonenumber,onChange:formik.handleChange,error:formik.touched.phonenumber&&Boolean(formik.errors.phonenumber),helperText:formik.touched.phonenumber&&formik.errors.phonenumber})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"sacco\",name:\"sacco\",select:true,label:\"Sacco\",className:classes.textField// value={saccos}\n,style:{marginTop:'2.3ch'},SelectProps:{native:true},InputLabelProps:{shrink:true},size:\"small\",defaultValue:\"\",value:formik.values.sacco,onChange:formik.handleChange,error:formik.touched.sacco&&Boolean(formik.errors.sacco),helperText:formik.touched.sacco&&formik.errors.sacco,variant:\"outlined\"},data.map(function(option){return/*#__PURE__*/React.createElement(\"option\",{key:option.sacco_name,value:option.sacco_name},option.sacco_name);})))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"LOCATION\",id:\"location\",name:\"location\",placeholder:\"Location\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.location,onChange:formik.handleChange,error:formik.touched.location&&Boolean(formik.errors.location),helperText:formik.touched.location&&formik.errors.location})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"INSURANCE PLAN\",id:\"insurance_plan\",name:\"insurance_plan\",placeholder:\"Insurance plan\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.insurance_plan,onChange:formik.handleChange,error:formik.touched.insurance_plan&&Boolean(formik.errors.insurance_plan),helperText:formik.touched.insurance_plan&&formik.errors.insurance_plan}))),/*#__PURE__*/React.createElement(Grid,{container:true,style:{width:'86%',margin:'0 7%'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.div},/*#__PURE__*/React.createElement(Button,{type:\"submit\",disabled:formik.isSubmitting,size:\"medium\",variant:\"raised\",className:classes.button},\"Submit\"))))))))));};export default SaccoMemberRegistration;","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/src/components/new/Formik/SaccoMemberRegistration.jsx"],"names":["React","useEffect","useState","makeStyles","TextField","Grid","Button","Paper","useFormik","yup","axios","toast","Breadcrumb","useHistory","withRouter","Layout","api","create","baseURL","validationSchema","object","shape","name","string","required","email","phonenumber","max","sacco","location","insurance_plan","useStyles","theme","root","display","marginTop","spacing","paddingTop","paddingBottom","borderRadius","backgroundColor","marginLeft","marginRight","textField","breakpoints","down","width","div","textAlign","button","margin","color","border","form","SaccoMemberRegistration","classes","saccos","setSaccos","data","setData","get","then","res","unshift","sacco_name","catch","error","console","log","formik","initialValues","onSubmit","values","setSubmitting","resetForm","post","response","success","message","status","alert","boxShadow","handleSubmit","shrink","handleChange","touched","Boolean","errors","native","map","option","isSubmitting"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, Grid, Button, Paper } from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Breadcrumb from '../../../layout/breadcrumb';\nimport { useHistory, withRouter } from \"react-router-dom\";\nimport Layout from \"../../AppWrapper\"\n\n\n\nconst api = axios.create({\n    baseURL: `https://afya-kwanza-backend.herokuapp.com`\n  })\n  \nconst validationSchema = yup.object().shape({\n    name: yup\n        .string('Enter a name')\n        .required('Name is a required field'),\n    email: yup\n        .string('Enter your email')\n        .email('Enter a valid email')\n        .required('Email is required'),\n    phonenumber: yup\n        .string('Enter phone number')\n        .max(10, 'Phone number should be 10 characters max')\n        .required('Phone number is a required field'),\n    sacco: yup\n        .string('Select a sacco')\n        .required('Sacco is a required field'),\n    location: yup\n        .string('Enter location')\n        .required('Location is a required field'),\n    insurance_plan: yup\n        .string('Enter insurance plan')\n        .required('Insurance plan is a required field')\n});\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        marginTop: theme.spacing(4),\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(10),\n        borderRadius: '10px',\n        backgroundColor: 'white',\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n\n    },\n    textField: {\n        marginLeft: theme.spacing(8),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n            width: \"85%\"\n        },\n        width: '45ch',\n    },\n    div: {\n        // display:'flex'\n        textAlign: 'right'\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: 'black',\n        backgroundColor: '#313F9F',\n        border: '1px solid black',\n        borderRadius: '10px',\n        marginTop: '20%'\n    },\n    form: {\n        paddingTop: theme.spacing(4)\n    }\n}))\n\n\n\nconst SaccoMemberRegistration = () => {\n    const classes = useStyles();\n    const [saccos, setSaccos] = useState([]);\n    const [data, setData] = useState([]);\n    useEffect(() => {\n      \n        // setSaccos(JSON.parse(localStorage.saccos));\n        // console.log((\"saccos=>\", saccos))\n    api.get('/saccos/all')\n    .then(res => {\n        // console.log(\"data =>\", res.data)\n      \n        const saccos = res.data\n        saccos.unshift({sacco_name:\"\"})\n        // console.log(\"Saccos ushifted==>\", saccos)\n        setData(res.data)\n        // localStorage.setItem('saccos', JSON.stringify(res.data))\n        // console.log(\"saccos localstorage =>\",localStorage.saccos)\n\n    }\n    ).catch(error => {\n        console.log(\"Error\", error)\n    })\n    }, [])\n\n    const formik = useFormik({\n        initialValues: {\n            name: '',\n            email: '',\n            phonenumber: '',\n            sacco: '',\n            location: '',\n            insurance_plan: ''\n        },\n        validationSchema: validationSchema,\n        onSubmit: async (values, { setSubmitting, resetForm }) => {\n\n            try {\n                setSubmitting(true);\n                const response = await api.post('/members/add', values)\n                console.log(\"response object\", response)\n                toast.success(response.data)\n                resetForm()\n            } catch (error) {\n                console.log(\"Some error occured=>\", error.message)\n                console.log(\"error status=>\", error.status)\n                alert(error)\n                // resetForm()\n            }\n\n        },\n    });\n\n\n    //   console.log(\"here are the mf values=>\", formik.values);\n    return (\n        <Layout>\n            <>\n                <Grid item xs=\"12\">\n                    <Breadcrumb parent=\"Members\" title=\"Sacco Member Registration\" />\n                </Grid>\n                <div className={classes.root} style={{ boxShadow: '5px 5px 20px #263238'}}>\n                    <Grid container spacing={3} >\n                        <Grid item xs=\"12\">\n                            <form onSubmit={formik.handleSubmit} className={classes.form}>\n                                <Grid container spacing={3}>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            id=\"name\"\n                                            name=\"name\"\n                                            label=\"NAME\"\n                                            className={classes.textField}\n                                            placeholder=\"Enter name\"\n                                            margin=\"normal\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={formik.values.name}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.name && Boolean(formik.errors.name)}\n                                            helperText={formik.touched.name && formik.errors.name}\n                                            autoFocus\n                                        />\n\n                                    </Grid>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            label=\"EMAIL\"\n                                            id=\"email\"\n                                            name=\"email\"\n                                            placeholder=\"Email\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={formik.values.email}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.email && Boolean(formik.errors.email)}\n                                            helperText={formik.touched.email && formik.errors.email}\n                                        />\n                                    </Grid>\n\n                                </Grid>\n                                <Grid container spacing={3}>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            label=\"PHONE NUMBER\"\n                                            id=\"phonenumber\"\n                                            name=\"phonenumber\"\n                                            placeholder=\"Phone Number\"\n                                            style={{ marginTop: '2.3ch' }}\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={formik.values.phonenumber}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.phonenumber && Boolean(formik.errors.phonenumber)}\n                                            helperText={formik.touched.phonenumber && formik.errors.phonenumber}\n                                        />\n                                    </Grid>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            id=\"sacco\"\n                                            name=\"sacco\"\n                                            select\n                                            label=\"Sacco\"\n                                            className={classes.textField}\n                                            // value={saccos}\n                                            style={{ marginTop: '2.3ch' }}\n                                            SelectProps={{\n                                                native: true,\n                                            }}\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            size=\"small\"\n                                            defaultValue={\"\"}\n                                            value={formik.values.sacco}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.sacco && Boolean(formik.errors.sacco)}\n                                            helperText={formik.touched.sacco && formik.errors.sacco}\n                                            variant=\"outlined\"\n                                        >\n\n                                            {data.map((option) => (\n                                                <option key={option.sacco_name} value={option.sacco_name}>\n                                                    {option.sacco_name}\n                                                </option>\n                                            ))}\n\n                                        </TextField>\n                                    </Grid>\n\n                                </Grid>\n                                <Grid container spacing={3}>\n                                    <Grid item xs>\n                                        <TextField\n                                            label=\"LOCATION\"\n                                            id=\"location\"\n                                            name=\"location\"\n                                            placeholder=\"Location\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={formik.values.location}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.location && Boolean(formik.errors.location)}\n                                            helperText={formik.touched.location && formik.errors.location}\n                                        />\n                                    </Grid>\n                                    <Grid item xs>\n                                        <TextField\n                                            label=\"INSURANCE PLAN\"\n                                            id=\"insurance_plan\"\n                                            name=\"insurance_plan\"\n                                            placeholder=\"Insurance plan\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={formik.values.insurance_plan}\n                                            onChange={formik.handleChange}\n                                            error={formik.touched.insurance_plan && Boolean(formik.errors.insurance_plan)}\n                                            helperText={formik.touched.insurance_plan && formik.errors.insurance_plan}\n                                        />\n                                    </Grid>\n\n                                </Grid>\n                                {/* <Button\n                        type=\"button\"\n                        className=\"outline\"\n                        onClick={formik.handleReset}\n                        disabled={!formik.dirty || formik.isSubmitting}\n                    >\n                    Reset\n                    </Button> */}\n                                <Grid container style={{ width: '86%', margin: '0 7%' }}>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\">\n\n                                        <div className={classes.div}>\n                                            <Button type=\"submit\" disabled={formik.isSubmitting} size=\"medium\" variant=\"raised\" className={classes.button}>\n                                                Submit\n                            </Button>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </form>\n                        </Grid>\n                    </Grid>\n\n                </div>\n            </>\n        </Layout>\n    );\n}\n\nexport default SaccoMemberRegistration;"]},"metadata":{},"sourceType":"module"}