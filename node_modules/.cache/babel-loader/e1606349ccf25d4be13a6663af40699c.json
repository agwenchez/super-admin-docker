{"ast":null,"code":"import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container}from\"reactstrap\";import InfoCards from\"../new/InfoCards\";import Charts from\"../new/Charts\";import Breadcrumb from\"../../layout/breadcrumb\";import Layout from\"../AppWrapper\";import axios from'axios';import{withRouter}from'react-router-dom';var api=axios.create({baseURL:\"https://afya-kwanza-backend.herokuapp.com\"});var Dashboard=function Dashboard(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];// const jwt_token = localStorage.tokenated\nvar getProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setToken(localStorage.tokenated);// console.log(\"Stored token=>\",token)\n_context.prev=1;_context.next=4;return api.get(\"/admin/is-verified\",{headers:{token:token}});case 4:res=_context.sent;// const data = await res.json();\n// console.log(\"data from server==>\", res.data)\nsetUser(res.data);setName(res.data.name);// console.log(\"Async  user==>\", user)\n_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function getProfile(){return _ref.apply(this,arguments);};}();useEffect(function(){getProfile();// api.get('/saccos/all')\n// .then(res => {\n//     console.log(\"data =>\", res.data)\n//     setData(res.data)\n//     localStorage.setItem('saccos', JSON.stringify(res.data))\n//     console.log(\"saccos localstorage =>\",localStorage.saccos)\n// }\n// ).catch(error => {\n//     console.log(\"Error\", error)\n// })\n// setToken(localStorage.tokenated)\n// console.log(\"Token consoled=>\", token)\n// console.log(\"User data binding==>\", user)\n},[token]);return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Dashboard\",title:\"Admin Dashboard\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Welcome \",name),/*#__PURE__*/React.createElement(InfoCards,null),/*#__PURE__*/React.createElement(Charts,null)));};export default withRouter(Dashboard);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/components/dashboard/dashboard.jsx"],"names":["React","useEffect","useState","Container","InfoCards","Charts","Breadcrumb","Layout","axios","withRouter","api","create","baseURL","Dashboard","user","setUser","token","setToken","name","setName","data","setData","getProfile","localStorage","tokenated","get","headers","res","console","error","message"],"mappings":"qiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,YAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAIA,GAAMC,CAAAA,GAAG,CAAGF,KAAK,CAACG,MAAN,CAAa,CACvBC,OAAO,4CADgB,CAAb,CAAZ,CAKA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eAEEX,QAAQ,CAAC,IAAD,CAFV,wCAEfY,IAFe,eAETC,OAFS,8BAGIb,QAAQ,CAAC,EAAD,CAHZ,yCAGfc,KAHe,eAGRC,QAHQ,8BAIEf,QAAQ,CAAC,EAAD,CAJV,yCAIfgB,IAJe,eAITC,OAJS,8BAKEjB,QAAQ,CAAC,EAAD,CALV,yCAKfkB,IALe,eAKTC,OALS,eAMtB;AACA,GAAMC,CAAAA,UAAU,0FAAG,2IACjBL,QAAQ,CAACM,YAAY,CAACC,SAAd,CAAR,CACA;AAFiB,sCAIGd,CAAAA,GAAG,CAACe,GAAJ,CAAQ,oBAAR,CAA8B,CAC9CC,OAAO,CAAE,CAAEV,KAAK,CAAEA,KAAT,CADqC,CAA9B,CAJH,QAITW,GAJS,eAQf;AACA;AACAZ,OAAO,CAACY,GAAG,CAACP,IAAL,CAAP,CACAD,OAAO,CAACQ,GAAG,CAACP,IAAJ,CAASF,IAAV,CAAP,CACA;AAZe,+EAcfU,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EAde,oEAAH,kBAAVR,CAAAA,UAAU,0CAAhB,CAkBArB,SAAS,CAAC,UAAM,CAEdqB,UAAU,GAEV;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAED,CApBQ,CAoBN,CAACN,KAAD,CApBM,CAAT,CAuBA,mBACE,oBAAC,MAAD,mBAEA,oBAAC,SAAD,EAAW,KAAK,CAAE,IAAlB,eACE,oBAAC,UAAD,EAAY,MAAM,CAAC,WAAnB,CAA+B,KAAK,CAAC,iBAArC,EADF,cAEE,wCAAYE,IAAZ,CAFF,cAGE,oBAAC,SAAD,MAHF,cAIE,oBAAC,MAAD,MAJF,CAFA,CADF,CAWD,CA3DD,CA8DA,cAAeT,CAAAA,UAAU,CAACI,SAAD,CAAzB","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container } from \"reactstrap\";\nimport InfoCards from \"../new/InfoCards\";\nimport Charts from \"../new/Charts\";\nimport Breadcrumb from \"../../layout/breadcrumb\";\nimport Layout from \"../AppWrapper\"\nimport axios from 'axios'\nimport {withRouter} from 'react-router-dom';\n\n\n\nconst api = axios.create({\n  baseURL: `https://afya-kwanza-backend.herokuapp.com`\n})\n\n\nconst Dashboard = () => {\n  \n  const [user, setUser] = useState(null)\n  const [token, setToken] = useState('')\n  const [name, setName] = useState(\"\")\n  const [data, setData] = useState({})\n  // const jwt_token = localStorage.tokenated\n  const getProfile = async () => {\n    setToken(localStorage.tokenated)\n    // console.log(\"Stored token=>\",token)\n    try {\n      const res = await api.get(\"/admin/is-verified\", {\n        headers: { token: token }\n      });\n\n      // const data = await res.json();\n      // console.log(\"data from server==>\", res.data)\n      setUser(res.data)\n      setName(res.data.name)\n      // console.log(\"Async  user==>\", user)\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n\n    getProfile()\n\n    // api.get('/saccos/all')\n    // .then(res => {\n    //     console.log(\"data =>\", res.data)\n      \n    //     setData(res.data)\n    //     localStorage.setItem('saccos', JSON.stringify(res.data))\n    //     console.log(\"saccos localstorage =>\",localStorage.saccos)\n\n    // }\n    // ).catch(error => {\n    //     console.log(\"Error\", error)\n    // })\n    // setToken(localStorage.tokenated)\n    // console.log(\"Token consoled=>\", token)\n    // console.log(\"User data binding==>\", user)\n\n  }, [token])\n\n\n  return (\n    <Layout>\n\n    <Container fluid={true}>\n      <Breadcrumb parent=\"Dashboard\" title=\"Admin Dashboard\" />\n      <p>Welcome {name}</p>\n      <InfoCards />\n      <Charts/>\n    </Container>\n    </Layout>\n  );\n}\n\n\nexport default withRouter(Dashboard)"]},"metadata":{},"sourceType":"module"}