{"ast":null,"code":"import _objectSpread from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import{TextField,Grid,Button,Paper}from'@material-ui/core';import{useFormik}from'formik';import*as yup from'yup';import axios from'axios';import{toast}from'react-toastify';import Breadcrumb from'../../layout/breadcrumb';import{useHistory,withRouter}from\"react-router-dom\";import Layout from\"../AppWrapper\";var api=axios.create({baseURL:\"https://afya-kwanza-backend.herokuapp.com\"});var useStyles=makeStyles(function(theme){var _textField;return{root:{display:'flex',marginTop:theme.spacing(4),paddingTop:theme.spacing(3),paddingBottom:theme.spacing(10),borderRadius:'10px',backgroundColor:'white',marginLeft:theme.spacing(2),marginRight:theme.spacing(2)},textField:(_textField={marginLeft:theme.spacing(8),marginRight:theme.spacing(3)},_defineProperty(_textField,theme.breakpoints.down('sm'),{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:\"85%\"}),_defineProperty(_textField,\"width\",'45ch'),_textField),div:{// display:'flex'\ntextAlign:'right'},button:{margin:theme.spacing(1),color:'black',backgroundColor:'#313F9F',border:'1px solid black',borderRadius:'10px',marginTop:'20%'},form:{paddingTop:theme.spacing(4)}};});var MemberEdit=function MemberEdit(_ref){var location=_ref.location;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var classes=useStyles();var history=useHistory();var getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,member;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get(\"/members/member/\".concat(id));case 3:res=_context.sent;console.log(\"Response from API\",res.data);member=res.data;console.log(\"Member data=>\",member);setData(member);// localStorage.setItem(\"user\", JSON.stringify(res.data))\n// setData(JSON.parse(localStorage.getItem('user')))    \nconsole.log(\"state data=>\",data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"Error\",_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getUser(){return _ref2.apply(this,arguments);};}();useEffect(function(){setId(location.state.id);console.log(\"member id==>\",id);getUser();},[id]);var _onChange=function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var name,email,location,insurance_plan,phonenumber,sacco,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();//   alert(`Name after change :${data.name}`)\nname=data.name,email=data.email,location=data.location,insurance_plan=data.insurance_plan,phonenumber=data.phonenumber,sacco=data.sacco;_context2.prev=2;_context2.next=5;return api.put(\"/members/update/\".concat(id),{name:name,email:email,location:location,insurance_plan:insurance_plan,phonenumber:phonenumber,sacco:sacco});case 5:res=_context2.sent;console.log(\"response object=>\",res);toast.success(res.data);history.push('/dashboard/members');_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);toast.error(_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Members\",title:\"Edit Sacco Member\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.root,style:{boxShadow:'5px 5px 20px #263238'}},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:classes.form},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"name\",name:\"name\",label:\"NAME\",className:classes.textField,placeholder:\"Enter name\",margin:\"normal\",InputLabelProps:{shrink:true},size:\"small\",variant:\"outlined\",value:data.name,onChange:function onChange(e){return _onChange(e);},autoFocus:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"EMAIL\",id:\"email\",name:\"email\",placeholder:\"Email\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:data.email,onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"PHONE NUMBER\",id:\"phonenumber\",name:\"phonenumber\",placeholder:\"Phone Number\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:data.phonenumber,onChange:function onChange(e){return _onChange(e);}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"sacco\",name:\"sacco\",label:\"Sacco\",className:classes.textField,style:{marginTop:'2.3ch'},InputLabelProps:{shrink:true},size:\"small\",value:data.sacco,variant:\"outlined\",onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"LOCATION\",id:\"location\",name:\"location\",placeholder:\"Location\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:data.location,onChange:function onChange(e){return _onChange(e);}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"INSURANCE PLAN\",id:\"insurance_plan\",name:\"insurance_plan\",placeholder:\"Insurance plan\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:data.insurance_plan,onChange:function onChange(e){return _onChange(e);}}))),/*#__PURE__*/React.createElement(Grid,{container:true,style:{width:'86%',margin:'0 7%'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.div},/*#__PURE__*/React.createElement(Button,{type:\"submit\",size:\"medium\",variant:\"raised\",className:classes.button},\"Submit\"))))))))));};export default withRouter(MemberEdit);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/components/new/MemberEdit.jsx"],"names":["React","useEffect","useState","makeStyles","TextField","Grid","Button","Paper","useFormik","yup","axios","toast","Breadcrumb","useHistory","withRouter","Layout","api","create","baseURL","useStyles","theme","root","display","marginTop","spacing","paddingTop","paddingBottom","borderRadius","backgroundColor","marginLeft","marginRight","textField","breakpoints","down","width","div","textAlign","button","margin","color","border","form","MemberEdit","location","data","setData","id","setId","classes","history","getUser","get","res","console","log","member","state","onChange","e","target","name","value","handleSubmit","preventDefault","email","insurance_plan","phonenumber","sacco","put","success","push","error","boxShadow","shrink"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, Grid, Button, Paper } from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Breadcrumb from '../../layout/breadcrumb';\nimport { useHistory, withRouter } from \"react-router-dom\";\nimport Layout from \"../AppWrapper\"\n\n\nconst api = axios.create({\n    baseURL: `https://afya-kwanza-backend.herokuapp.com`\n  })\n  \n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        marginTop: theme.spacing(4),\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(10),\n        borderRadius: '10px',\n        backgroundColor: 'white',\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n\n    },\n    textField: {\n        marginLeft: theme.spacing(8),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n            width: \"85%\"\n        },\n        width: '45ch',\n    },\n    div: {\n        // display:'flex'\n        textAlign: 'right'\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: 'black',\n        backgroundColor: '#313F9F',\n        border: '1px solid black',\n        borderRadius: '10px',\n        marginTop: '20%'\n    },\n    form: {\n        paddingTop: theme.spacing(4)\n    }\n}))\n\n\n\nconst MemberEdit = ({location}) => {\n\n    const [data, setData] = useState({})\n    const [id, setId] = useState(\"\");\n    const classes = useStyles()\n    const history = useHistory()\n\n    \n    const getUser = async()=>{\n\n        try {\n            const res = await api.get(`/members/member/${id}`)\n            console.log(\"Response from API\", res.data)\n\n            const member = res.data\n            console.log(\"Member data=>\", member)\n            setData(member)\n            // localStorage.setItem(\"user\", JSON.stringify(res.data))\n            // setData(JSON.parse(localStorage.getItem('user')))    \n            console.log(\"state data=>\", data)\n        } catch (error) {\n            console.log(\"Error\", error)\n        }\n       \n    }\n\n    useEffect(() => {\n\n        setId(location.state.id)\n        console.log(\"member id==>\", id)\n        getUser()\n   \n    }, [id])\n\n\n    const onChange = e => setData({...data, [e.target.name]: e.target.value})\n\n    const handleSubmit = async e =>{\n      e.preventDefault();\n\n    //   alert(`Name after change :${data.name}`)\n  \n      const {name,email,location,insurance_plan,phonenumber,sacco} = data\n  \n      try {\n        const res = await api.put(`/members/update/${id}`, {name,email,location,insurance_plan,phonenumber,sacco})\n        console.log(\"response object=>\", res)\n        toast.success(res.data)\n        history.push('/dashboard/members')\n      } catch (error) {\n        toast.error(error)\n      }\n  \n  \n    }\n\n    return (\n        <Layout>\n            <>\n                <Grid item xs=\"12\">\n                    <Breadcrumb parent=\"Members\" title=\"Edit Sacco Member\" />\n                </Grid>\n                <div className={classes.root} style={{ boxShadow: '5px 5px 20px #263238'}}>\n                    <Grid container spacing={3} >\n                        <Grid item xs=\"12\">\n                            <form onSubmit={handleSubmit} className={classes.form}>\n                                <Grid container spacing={3}>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            id=\"name\"\n                                            name=\"name\"\n                                            label=\"NAME\"\n                                            className={classes.textField}\n                                            placeholder=\"Enter name\"\n                                            margin=\"normal\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            size=\"small\"\n                                            variant=\"outlined\"\n                                            value={data.name}\n                                            onChange={e => onChange(e)}\n                                            autoFocus\n                                        />\n\n                                    </Grid>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            label=\"EMAIL\"\n                                            id=\"email\"\n                                            name=\"email\"\n                                            placeholder=\"Email\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={data.email}\n                                            onChange={e => onChange(e)}\n                                        />\n                                    </Grid>\n\n                                </Grid>\n                                <Grid container spacing={3}>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            label=\"PHONE NUMBER\"\n                                            id=\"phonenumber\"\n                                            name=\"phonenumber\"\n                                            placeholder=\"Phone Number\"\n                                            style={{ marginTop: '2.3ch' }}\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={data.phonenumber}\n                                            onChange={e => onChange(e)}\n                                        />\n                                    </Grid>\n                                    <Grid item xs=\"12\" sm=\"6\">\n                                        <TextField\n                                            id=\"sacco\"\n                                            name=\"sacco\"                                          \n                                            label=\"Sacco\"\n                                            className={classes.textField}\n                                            style={{ marginTop: '2.3ch' }}\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            size=\"small\"\n                                            value={data.sacco}\n                                            variant=\"outlined\"\n                                            onChange={e => onChange(e)}\n                                        />\n                                    </Grid>\n\n                                </Grid>\n                                <Grid container spacing={3}>\n                                    <Grid item xs>\n                                        <TextField\n                                            label=\"LOCATION\"\n                                            id=\"location\"\n                                            name=\"location\"\n                                            placeholder=\"Location\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={data.location}\n                                            onChange={e => onChange(e)}\n                                        />\n                                    </Grid>\n                                    <Grid item xs>\n                                        <TextField\n                                            label=\"INSURANCE PLAN\"\n                                            id=\"insurance_plan\"\n                                            name=\"insurance_plan\"\n                                            placeholder=\"Insurance plan\"\n                                            className={classes.textField}\n                                            margin=\"normal\"\n                                            size=\"small\"\n                                            InputLabelProps={{\n                                                shrink: true,\n                                            }}\n                                            variant=\"outlined\"\n                                            value={data.insurance_plan}\n                                            onChange={e => onChange(e)}\n                                        />\n                                    </Grid>\n\n                                </Grid>\n                                {/* <Button\n                        type=\"button\"\n                        className=\"outline\"\n                        onClick={formik.handleReset}\n                        disabled={!formik.dirty || formik.isSubmitting}\n                    >\n                    Reset\n                    </Button> */}\n                                <Grid container style={{ width: '86%', margin: '0 7%' }}>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\"></Grid>\n                                    <Grid item xs=\"3\">\n\n                                        <div className={classes.div}>\n                                            <Button type=\"submit\" size=\"medium\" variant=\"raised\" className={classes.button}>\n                                                Submit\n                            </Button>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </form>\n                        </Grid>\n                    </Grid>\n\n                </div>\n            </>\n        </Layout>\n    );\n}\n\nexport default withRouter(MemberEdit)"]},"metadata":{},"sourceType":"module"}