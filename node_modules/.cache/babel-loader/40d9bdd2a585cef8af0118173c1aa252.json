{"ast":null,"code":"import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import man from'../assets/images/dashboard/profile.jpg';import{Container,Row,Col,Form,FormGroup,Input,Label,Button}from'reactstrap';// import {firebase_app,googleProvider,facebookProvider,twitterProvider,githubProvider, Jwt_token } from '../data/config'\nimport{handleResponse}from'../services/fack.backend';// import { useAuth0 } from '@auth0/auth0-react'\n// import { toast } from 'react-toastify';\nimport{withRouter}from'react-router-dom';import{Password,EmailAddress,RememberPassword,ForgotPassword}from'../constant';var Logins=function Logins(props){var _useState=useState(\"test@gmail.com\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"test123\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];// const [loading,setLoading] = useState(false) \nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),togglePassword=_useState6[0],setTogglePassword=_useState6[1];var _useState7=useState(localStorage.getItem('profileURL'||man)),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var _useState9=useState(localStorage.getItem('Name')),_useState10=_slicedToArray(_useState9,2),name=_useState10[0],setName=_useState10[1];useEffect(function(){localStorage.setItem('profileURL',value);localStorage.setItem('Name',name);},[value,name]);var loginWithJwt=function loginWithJwt(email,password){// setLoading(true)\nvar requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:{email:email,password:password}};return fetch('/users/authenticate',requestOptions).then(handleResponse).then(function(user){// store user details and jwt token in local storage to keep user logged in between page refreshes\nsetValue(man);setName(\"Enock Agwenchez\");localStorage.setItem('token',user);window.location.href=\"/dashboard/\";return user;});};return/*#__PURE__*/React.createElement(Container,{fluid:true,className:\"p-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-card\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"logo\",href:\"index.html\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid for-light\",src:require(\"../assets/images/logo/login.png\"),alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid for-dark\",src:require(\"../assets/images/logo/logo_dark.png\"),alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"login-main login-tab\"},/*#__PURE__*/React.createElement(Form,{className:\"theme-form\"},/*#__PURE__*/React.createElement(\"div\",{style:{width:'10vh,',height:'10vh',display:'flex',alignItems:'center',justifyContent:'center'}},/*#__PURE__*/React.createElement(\"h4\",null,\"Admin Login\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"col-form-label\"},EmailAddress),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"email\",required:\"\",onChange:function onChange(e){return setEmail(e.target.value);},defaultValue:email})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{className:\"col-form-label\"},Password),/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:togglePassword?\"text\":\"password\",onChange:function onChange(e){return setPassword(e.target.value);},defaultValue:password,required:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"show-hide\",onClick:function onClick(){return setTogglePassword(!togglePassword);}},/*#__PURE__*/React.createElement(\"span\",{className:togglePassword?\"\":\"show\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"checkbox ml-3\"},/*#__PURE__*/React.createElement(Input,{id:\"checkbox1\",type:\"checkbox\"}),/*#__PURE__*/React.createElement(Label,{className:\"text-muted\",for:\"checkbox1\"},RememberPassword)),/*#__PURE__*/React.createElement(\"a\",{className:\"link\",href:\"#javascript\"},ForgotPassword),/*#__PURE__*/React.createElement(\"div\",{style:{width:'10vh,',height:'10vh',display:'flex',alignItems:'center',justifyContent:'center'}},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"btn\",onClick:function onClick(){return loginWithJwt(email,password);}},\"Login\"))))))))));};export default withRouter(Logins);","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Super Admin Dashboard/client/src/auth/signin.jsx"],"names":["React","useState","useEffect","man","Container","Row","Col","Form","FormGroup","Input","Label","Button","handleResponse","withRouter","Password","EmailAddress","RememberPassword","ForgotPassword","Logins","props","email","setEmail","password","setPassword","togglePassword","setTogglePassword","localStorage","getItem","value","setValue","name","setName","setItem","loginWithJwt","requestOptions","method","headers","body","fetch","then","user","window","location","href","require","width","height","display","alignItems","justifyContent","e","target"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport man from '../assets/images/dashboard/profile.jpg';\nimport {Container,Row,Col,Form,FormGroup,Input,Label,Button} from 'reactstrap'\n// import {firebase_app,googleProvider,facebookProvider,twitterProvider,githubProvider, Jwt_token } from '../data/config'\nimport { handleResponse } from '../services/fack.backend'\n// import { useAuth0 } from '@auth0/auth0-react'\n// import { toast } from 'react-toastify';\nimport {withRouter} from 'react-router-dom'\n\nimport {Password, EmailAddress,RememberPassword,ForgotPassword } from '../constant';\n\nconst Logins = (props) => {\n  \n  \n    const [email, setEmail] = useState(\"test@gmail.com\");\n    const [password, setPassword] = useState(\"test123\");\n    // const [loading,setLoading] = useState(false) \n    const [togglePassword,setTogglePassword] = useState(false)\n\n    const [value, setValue] = useState(\n        localStorage.getItem('profileURL' || man)\n    );\n    const [name, setName] = useState(\n        localStorage.getItem('Name')\n    );\n\n    useEffect(() => {\n      \n    localStorage.setItem('profileURL', value);\n    localStorage.setItem('Name', name);\n    }, [value,name]);\n\n    const loginWithJwt = (email,password) => {\n  \n      // setLoading(true)\n\n      const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: ({ email, password })\n      };\n      \n      return fetch('/users/authenticate', requestOptions)\n      .then(handleResponse)\n      .then(user => {\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\n        setValue(man);\n        setName(\"Enock Agwenchez\");\n        localStorage.setItem('token', user);\n        window.location.href = `/dashboard/`\n        return user;\n      });\n    }\n\n    return (\n        <Container fluid={true} className=\"p-0\">\n        <Row>\n        <Col xs=\"12\">     \n          <div className=\"login-card\">\n            <div>\n              <div>\n                <a className=\"logo\" href=\"index.html\">\n                  <img className=\"img-fluid for-light\" src={require(\"../assets/images/logo/login.png\")} alt=\"\"/>\n                  <img className=\"img-fluid for-dark\" src={require(\"../assets/images/logo/logo_dark.png\")} alt=\"\"/>\n                </a>\n              </div>\n              <div className=\"login-main login-tab\"> \n  \n     \n                    <Form className=\"theme-form\">\n                    <div style={{ width: '10vh,', height: '10vh', display: 'flex', alignItems: 'center',justifyContent: 'center'}} >\n                      <h4>Admin Login</h4>\n                      </div>\n                     \n                      <FormGroup>\n                        <Label className=\"col-form-label\">{EmailAddress}</Label>\n                        <Input className=\"form-control\" type=\"email\" required=\"\" onChange={e => setEmail(e.target.value)} defaultValue={email} />\n                      </FormGroup>\n                      <FormGroup>\n                        <Label className=\"col-form-label\">{Password}</Label>\n                        <Input className=\"form-control\" type={togglePassword ?  \"text\" : \"password\"} onChange={e => setPassword(e.target.value)} defaultValue={password} required=\"\"/>\n                        <div className=\"show-hide\" onClick={() => setTogglePassword(!togglePassword)}><span className={togglePassword ? \"\" : \"show\"}></span></div>\n                      </FormGroup>\n                      <div className=\"form-group mb-0\">\n                        <div className=\"checkbox ml-3\">\n                          <Input id=\"checkbox1\" type=\"checkbox\"/>\n                          <Label className=\"text-muted\" for=\"checkbox1\">{RememberPassword}</Label>\n                        </div><a className=\"link\" href=\"#javascript\">{ForgotPassword}</a>\n                      <div style={{ width: '10vh,', height: '10vh', display: 'flex', alignItems: 'center',justifyContent: 'center'}} >\n                        <Button color=\"primary\" className=\"btn\" onClick={() => loginWithJwt(email,password)}>Login</Button>\n                      </div>\n                        \n                      </div>\n                      \n                        \n                    </Form>\n                 \n              </div>\n            </div>\n          </div>\n        </Col>\n        </Row>\n        </Container>\n    );\n}\n\nexport default withRouter(Logins);"]},"metadata":{},"sourceType":"module"}