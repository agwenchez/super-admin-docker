{"ast":null,"code":"import _regeneratorRuntime from\"/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import{makeStyles}from'@material-ui/core/styles';import{TextField,Grid,Button,Paper}from'@material-ui/core';import{useFormik}from'formik';import*as yup from'yup';import axios from'axios';import{toast}from'react-toastify';import Breadcrumb from'../../../layout/breadcrumb';var api=axios.create({baseURL:\"http://localhost:4000\"});var validationSchema=yup.object().shape({name:yup.string('Enter a name').required('Name is a required field'),email:yup.string('Enter your email').email('Enter a valid email').required('Email is required'),phonenumber:yup.string('Enter phone number').max(10,'Phone number should be 10 characters max').required('Phone number is a required field'),sacco:yup.string('Select a sacco').required('Sacco is a required field'),location:yup.string('Enter location').required('Location is a required field'),insurance_plan:yup.string('Enter insurance plan').required('Insurance plan is a required field')});var saccos=[{value:'None'},{value:'Latema'},{value:'Killeton'},{value:'Indimanje'},{value:'Kihomi'}];var useStyles=makeStyles(function(theme){var _textField;return{root:{display:'flex',// flexWrap: 'no-wrap',\n// marginTop: theme.spacing(3),\npaddingTop:theme.spacing(3),paddingBottom:theme.spacing(10),borderRadius:'10px',backgroundColor:'white'},textField:(_textField={marginLeft:theme.spacing(8),marginRight:theme.spacing(3)},_defineProperty(_textField,theme.breakpoints.down('sm'),{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:\"85%\"}),_defineProperty(_textField,\"width\",'45ch'),_textField),div:{// display:'flex'\ntextAlign:'right'},button:{margin:theme.spacing(1),color:'black',backgroundColor:'#313F9F',border:'1px solid black',borderRadius:'10px',marginTop:'20%'},form:{paddingTop:theme.spacing(4)}};});export default function SaccoMemberRegistration(_ref){var _React$createElement;var setAuth=_ref.setAuth;var classes=useStyles();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){api.get('/saccos/all').then(function(res){console.log(\"data =>\",res.data);// const data = res.json(res)\nsetData(res.data);console.log(\"saccos from server=>\",data);}).catch(function(error){console.log(\"Error\",error);});},[]);var formik=useFormik({initialValues:{name:'',email:'',phonenumber:'',sacco:'',location:'',insurance_plan:''},validationSchema:validationSchema,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref2){var setSubmitting,resetForm,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref2.setSubmitting,resetForm=_ref2.resetForm;_context.prev=1;setSubmitting(true);_context.next=5;return api.post('/members/add',values);case 5:response=_context.sent;console.log(\"response object\",response);toast.success(response.data);resetForm();_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(\"Some error occured=>\",_context.t0.message);console.log(\"error status=>\",_context.t0.status);alert(_context.t0);// resetForm()\ncase 16:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});//   console.log(\"here are the mf values=>\", formik.values);\nreturn/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Members\",title:\"Sacco Member Registration\"})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:formik.handleSubmit,className:classes.form},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{id:\"name\",name:\"name\",label:\"NAME\",className:classes.textField,placeholder:\"Enter name\",margin:\"normal\",InputLabelProps:{shrink:true},size:\"small\",variant:\"outlined\",value:formik.values.name,onChange:formik.handleChange,error:formik.touched.name&&Boolean(formik.errors.name),helperText:formik.touched.name&&formik.errors.name,autoFocus:true})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"EMAIL\",id:\"email\",name:\"email\",placeholder:\"Email\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.email,onChange:formik.handleChange,error:formik.touched.email&&Boolean(formik.errors.email),helperText:formik.touched.email&&formik.errors.email}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,{label:\"PHONE NUMBER\",id:\"phonenumber\",name:\"phonenumber\",placeholder:\"Phone Number\",style:{marginTop:'2.3ch'},className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.phonenumber,onChange:formik.handleChange,error:formik.touched.phonenumber&&Boolean(formik.errors.phonenumber),helperText:formik.touched.phonenumber&&formik.errors.phonenumber})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"12\",sm:\"6\"},/*#__PURE__*/React.createElement(TextField,(_React$createElement={id:\"sacco\",name:\"sacco\",select:true,label:\"Sacco\",className:classes.textField,value:saccos,style:{marginTop:'2.3ch'},SelectProps:{native:true},InputLabelProps:{shrink:true},size:\"small\"},_defineProperty(_React$createElement,\"value\",formik.values.sacco),_defineProperty(_React$createElement,\"onChange\",formik.handleChange),_defineProperty(_React$createElement,\"error\",formik.touched.sacco&&Boolean(formik.errors.sacco)),_defineProperty(_React$createElement,\"helperText\",formik.touched.sacco&&formik.errors.sacco),_defineProperty(_React$createElement,\"variant\",\"outlined\"),_React$createElement),saccos.map(function(option){return/*#__PURE__*/React.createElement(\"option\",{key:option.value,value:option.value},option.value);})))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"LOCATION\",id:\"location\",name:\"location\",placeholder:\"Location\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.location,onChange:formik.handleChange,error:formik.touched.location&&Boolean(formik.errors.location),helperText:formik.touched.location&&formik.errors.location})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(TextField,{label:\"INSURANCE PLAN\",id:\"insurance_plan\",name:\"insurance_plan\",placeholder:\"Insurance plan\",className:classes.textField,margin:\"normal\",size:\"small\",InputLabelProps:{shrink:true},variant:\"outlined\",value:formik.values.insurance_plan,onChange:formik.handleChange,error:formik.touched.insurance_plan&&Boolean(formik.errors.insurance_plan),helperText:formik.touched.insurance_plan&&formik.errors.insurance_plan}))),/*#__PURE__*/React.createElement(Grid,{container:true,style:{width:'86%',margin:'0 7%'}},/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:\"3\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.div},/*#__PURE__*/React.createElement(Button,{type:\"submit\",disabled:formik.isSubmitting,size:\"medium\",variant:\"raised\",className:classes.button},\"Submit\"))))))));}","map":{"version":3,"sources":["/Users/agwenchez/Desktop/Afya Kwanza/Admin Dashboard/client/src/components/new/Formik/SaccoMemberRegistration.jsx"],"names":["React","useEffect","useState","makeStyles","TextField","Grid","Button","Paper","useFormik","yup","axios","toast","Breadcrumb","api","create","baseURL","validationSchema","object","shape","name","string","required","email","phonenumber","max","sacco","location","insurance_plan","saccos","value","useStyles","theme","root","display","paddingTop","spacing","paddingBottom","borderRadius","backgroundColor","textField","marginLeft","marginRight","breakpoints","down","width","div","textAlign","button","margin","color","border","marginTop","form","SaccoMemberRegistration","setAuth","classes","data","setData","get","then","res","console","log","catch","error","formik","initialValues","onSubmit","values","setSubmitting","resetForm","post","response","success","message","status","alert","handleSubmit","shrink","handleChange","touched","Boolean","errors","native","map","option","isSubmitting"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, Grid,Button,Paper} from '@material-ui/core';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Breadcrumb from '../../../layout/breadcrumb';\n\n\nconst api = axios.create({\n    baseURL: `http://localhost:4000`\n  })\n  \n\nconst validationSchema = yup.object().shape({\n    name: yup\n      .string('Enter a name')\n      .required('Name is a required field'),\n    email: yup\n      .string('Enter your email')\n      .email('Enter a valid email')\n      .required('Email is required'),\n    phonenumber: yup\n      .string('Enter phone number')\n      .max(10, 'Phone number should be 10 characters max')\n      .required('Phone number is a required field'),\n    sacco:yup\n        .string('Select a sacco')\n        .required('Sacco is a required field'),\n    location:yup\n        .string('Enter location')\n        .required('Location is a required field'),\n    insurance_plan:yup\n        .string('Enter insurance plan')\n        .required('Insurance plan is a required field')\n  });\n\nconst saccos = [\n    {\n        value: 'None'\n    },\n    {\n      value: 'Latema'\n    },\n    {\n      value: 'Killeton'\n    },\n    {\n      value: 'Indimanje'\n    },\n    {\n      value: 'Kihomi'\n    },\n  ];\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        // flexWrap: 'no-wrap',\n        // marginTop: theme.spacing(3),\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(10),\n        borderRadius:'10px',\n        backgroundColor:'white'\n    },\n    textField: {\n        marginLeft: theme.spacing(8),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.down('sm')]: {\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n            width:\"85%\"\n          },\n        width: '45ch',\n    },\n    div:{\n        // display:'flex'\n        textAlign: 'right'\n    },\n    button: {\n        margin: theme.spacing(1),\n        color:'black',\n        backgroundColor:'#313F9F',\n        border: '1px solid black',\n        borderRadius:'10px',\n        marginTop:'20%'\n      },\n    form:{\n        paddingTop: theme.spacing(4)\n    }\n}));\n\nexport default function SaccoMemberRegistration({setAuth}) {\n    const classes = useStyles();\n    const [data, setData] = useState({});\n\n    useEffect(() => {\n        api.get('/saccos/all')\n        .then( res=>{\n            console.log(\"data =>\", res.data)\n            // const data = res.json(res)\n            setData(res.data)\n            console.log(\"saccos from server=>\", data)\n          }\n        ).catch(error => {\n          console.log(\"Error\", error)\n        })\n    }, [])\n  \n    const formik = useFormik({\n        initialValues: {\n          name:'',\n          email: '',\n          phonenumber:'',\n          sacco:'',\n          location:'',\n          insurance_plan:''\n        },\n        validationSchema: validationSchema,\n        onSubmit: async (values,{setSubmitting,resetForm}) => {\n\n        try {\n        setSubmitting(true);\n         const response = await api.post('/members/add', values)\n         console.log(\"response object\", response)\n         toast.success(response.data)\n         resetForm()\n        } catch (error) {\n            console.log(\"Some error occured=>\",error.message)\n            console.log(\"error status=>\",error.status)\n            alert(error)\n            // resetForm()\n        }\n\n        },\n      });\n\n    \n    //   console.log(\"here are the mf values=>\", formik.values);\n    return (\n        <div className={classes.root}>\n            <Grid container  spacing={3}>\n                <Grid item xs=\"12\">\n                    <Breadcrumb parent=\"Members\" title=\"Sacco Member Registration\"/>\n                </Grid>\n                <Grid item xs=\"12\">\n                <form onSubmit={formik.handleSubmit} className={classes.form}>\n                    <Grid container spacing={3}>\n                        <Grid item xs=\"12\" sm=\"6\">\n                        <TextField\n                            id=\"name\"\n                            name=\"name\"\n                            label=\"NAME\"\n                            className={classes.textField}\n                            placeholder=\"Enter name\"\n                            margin=\"normal\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            size=\"small\"\n                            variant=\"outlined\"\n                            value={formik.values.name}\n                            onChange={formik.handleChange}\n                            error={formik.touched.name && Boolean(formik.errors.name)}\n                            helperText={formik.touched.name && formik.errors.name}\n                            autoFocus\n                        />\n                    \n                        </Grid>\n                        <Grid item xs=\"12\" sm=\"6\">\n                        <TextField\n                            label=\"EMAIL\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Email\"\n                            className={classes.textField}\n                            margin=\"normal\"\n                            size=\"small\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            variant=\"outlined\"\n                            value={formik.values.email}\n                            onChange={formik.handleChange}\n                            error={formik.touched.email && Boolean(formik.errors.email)}\n                            helperText={formik.touched.email && formik.errors.email}\n                        />\n                        </Grid>\n                    \n                    </Grid>\n                    <Grid container spacing={3}>\n                        <Grid item xs=\"12\" sm=\"6\">\n                        <TextField\n                            label=\"PHONE NUMBER\"\n                            id=\"phonenumber\"\n                            name=\"phonenumber\"\n                            placeholder=\"Phone Number\"\n                            style={{ marginTop:'2.3ch'}}\n                            className={classes.textField}\n                            margin=\"normal\"\n                            size=\"small\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            variant=\"outlined\"\n                            value={formik.values.phonenumber}\n                            onChange={formik.handleChange}\n                            error={formik.touched.phonenumber && Boolean(formik.errors.phonenumber)}\n                            helperText={formik.touched.phonenumber && formik.errors.phonenumber}\n                        />\n                        </Grid>\n                        <Grid item xs=\"12\" sm=\"6\">\n                        <TextField\n                            id=\"sacco\"\n                            name=\"sacco\"\n                            select\n                            label=\"Sacco\"\n                            className={classes.textField}\n                            value={saccos}\n                            style={{ marginTop:'2.3ch'}}\n                            SelectProps={{\n                                native: true,\n                            }}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            size=\"small\"\n                            value={formik.values.sacco}\n                            onChange={formik.handleChange}\n                            error={formik.touched.sacco && Boolean(formik.errors.sacco)}\n                            helperText={formik.touched.sacco && formik.errors.sacco}\n                            variant=\"outlined\"\n                            >\n                            \n                            {saccos.map((option) => (\n                                <option key={option.value} value={option.value}>\n                                {option.value}\n                                </option>\n                            ))}\n                            \n                        </TextField>\n                        </Grid>\n                    \n                    </Grid>\n                   <Grid container spacing={3}>\n                        <Grid item xs>\n                        <TextField\n                            label=\"LOCATION\"\n                            id=\"location\"\n                            name=\"location\"\n                            placeholder=\"Location\"\n                            className={classes.textField}\n                            margin=\"normal\"\n                            size=\"small\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            variant=\"outlined\"\n                            value={formik.values.location}\n                            onChange={formik.handleChange}\n                            error={formik.touched.location && Boolean(formik.errors.location)}\n                            helperText={formik.touched.location && formik.errors.location}\n                        />\n                        </Grid>\n                         <Grid item xs>\n                         <TextField\n                            label=\"INSURANCE PLAN\"\n                            id=\"insurance_plan\"\n                            name=\"insurance_plan\"\n                            placeholder=\"Insurance plan\"\n                            className={classes.textField}\n                            margin=\"normal\"\n                            size=\"small\"\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            variant=\"outlined\"\n                            value={formik.values.insurance_plan}\n                            onChange={formik.handleChange}\n                            error={formik.touched.insurance_plan && Boolean(formik.errors.insurance_plan)}\n                            helperText={formik.touched.insurance_plan && formik.errors.insurance_plan}\n                        />\n                        </Grid>\n                    \n                    </Grid>\n                    {/* <Button\n                        type=\"button\"\n                        className=\"outline\"\n                        onClick={formik.handleReset}\n                        disabled={!formik.dirty || formik.isSubmitting}\n                    >\n                    Reset\n                    </Button> */}\n                    <Grid container style={{width: '86%', margin: '0 7%'}}>\n                        <Grid item xs=\"3\"></Grid>\n                        <Grid item xs=\"3\"></Grid>\n                        <Grid item xs=\"3\"></Grid>\n                        <Grid item xs=\"3\">\n                       \n                        <div className={classes.div}>\n                            <Button type=\"submit\" disabled={formik.isSubmitting} size=\"medium\" variant=\"raised\" className={classes.button}>\n                                Submit\n                            </Button>\n                        </div>\n                        </Grid>\n                    </Grid>\n                </form>\n                </Grid>\n            </Grid>\n           \n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}